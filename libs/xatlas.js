/*! For license information please see xatlas.js.LICENSE.txt */
(()=>{var e={954:e=>{var t,r=(t="undefined"!=typeof document?document.currentScript?.src:void 0,function(e={}){var r,n,a,o=e,i=new Promise(((e,t)=>{n=e,a=t}));["_memory","___indirect_function_table","onRuntimeInitialized"].forEach((e=>{Object.getOwnPropertyDescriptor(i,e)||Object.defineProperty(i,e,{get:()=>W("You are getting "+e+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js"),set:()=>W("You are setting "+e+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")})}));var s="object"==typeof window,l="function"==typeof importScripts,u="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,c=!s&&!u&&!l;if(o.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");var d,p,h=Object.assign({},o),f="";if(c){if("object"==typeof process||"object"==typeof window||"function"==typeof importScripts)throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)")}else{if(!s&&!l)throw new Error("environment detection error");if(l?f=self.location.href:"undefined"!=typeof document&&document.currentScript&&(f=document.currentScript.src),t&&(f=t),f=f.startsWith("blob:")?"":f.substr(0,f.replace(/[?#].*/,"").lastIndexOf("/")+1),"object"!=typeof window&&"function"!=typeof importScripts)throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");l&&(p=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),d=e=>(F(!G(e),"readAsync does not work with file:// URLs"),fetch(e,{credentials:"same-origin"}).then((e=>e.ok?e.arrayBuffer():Promise.reject(new Error(e.status+" : "+e.url)))))}var m,g=o.print||console.log.bind(console),y=o.printErr||console.error.bind(console);Object.assign(o,h),h=null,m="fetchSettings",Object.getOwnPropertyDescriptor(o,m)&&W(`\`Module.${m}\` was supplied but \`${m}\` not included in INCOMING_MODULE_JS_API`),o.arguments&&o.arguments,J("arguments","arguments_"),o.thisProgram&&o.thisProgram,J("thisProgram","thisProgram"),F(void 0===o.memoryInitializerPrefixURL,"Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),F(void 0===o.pthreadMainPrefixURL,"Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),F(void 0===o.cdInitializerPrefixURL,"Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),F(void 0===o.filePackagePrefixURL,"Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),F(void 0===o.read,"Module.read option was removed"),F(void 0===o.readAsync,"Module.readAsync option was removed (modify readAsync in JS)"),F(void 0===o.readBinary,"Module.readBinary option was removed (modify readBinary in JS)"),F(void 0===o.setWindowTitle,"Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),F(void 0===o.TOTAL_MEMORY,"Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),J("asm","wasmExports"),J("readAsync","readAsync"),J("readBinary","readBinary"),J("setWindowTitle","setWindowTitle"),F(!u,"node environment detected but not enabled at build time.  Add `node` to `-sENVIRONMENT` to enable."),F(!c,"shell environment detected but not enabled at build time.  Add `shell` to `-sENVIRONMENT` to enable.");var v,b=o.wasmBinary;J("wasmBinary","wasmBinary"),"object"!=typeof WebAssembly&&y("no native wasm support detected");var T,w,_,C,E,P,$,A,S=!1;function F(e,t){e||W("Assertion failed"+(t?": "+t:""))}function O(){var e=v.buffer;o.HEAP8=T=new Int8Array(e),o.HEAP16=_=new Int16Array(e),o.HEAPU8=w=new Uint8Array(e),o.HEAPU16=C=new Uint16Array(e),o.HEAP32=E=new Int32Array(e),o.HEAPU32=P=new Uint32Array(e),o.HEAPF32=$=new Float32Array(e),o.HEAPF64=A=new Float64Array(e)}function I(){if(!S){var e=Et();0==e&&(e+=4);var t=P[e>>2],r=P[e+4>>2];34821223==t&&2310721022==r||W(`Stack overflow! Stack cookie has been overwritten at ${Q(e)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Q(r)} ${Q(t)}`),1668509029!=P[0]&&W("Runtime error: The application has corrupted its heap memory area (address zero)!")}}F(!o.STACK_SIZE,"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),F("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&null!=Int32Array.prototype.subarray&&null!=Int32Array.prototype.set,"JS engine does not provide full typed array support"),F(!o.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),F(!o.INITIAL_MEMORY,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");var M=[],k=[],x=[],R=!1;F(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),F(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),F(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),F(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var L=0,D=null,U=null,N={};function W(e){o.onAbort?.(e),y(e="Aborted("+e+")"),S=!0;var t=new WebAssembly.RuntimeError(e);throw a(t),t}var j={error(){W("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init(){j.error()},createDataFile(){j.error()},createPreloadedFile(){j.error()},createLazyFile(){j.error()},open(){j.error()},mkdev(){j.error()},registerDevice(){j.error()},analyzePath(){j.error()},ErrnoError(){j.error()}};o.FS_createDataFile=j.createDataFile,o.FS_createPreloadedFile=j.createPreloadedFile;var H,z=e=>e.startsWith("data:application/octet-stream;base64,"),G=e=>e.startsWith("file://");function V(e,t){return(...r)=>{F(R,`native function \`${e}\` called before runtime initialization`);var n=bt[e];return F(n,`exported native function \`${e}\` not found`),F(r.length<=t,`native function \`${e}\` called with ${r.length} args but expects ${t}`),n(...r)}}function B(e){if(e==H&&b)return new Uint8Array(b);if(p)return p(e);throw"both async and sync fetching of the wasm failed"}function Y(e,t,r){return function(e){return b?Promise.resolve().then((()=>B(e))):d(e).then((e=>new Uint8Array(e)),(()=>B(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then(r,(e=>{y(`failed to asynchronously prepare wasm: ${e}`),G(H)&&y(`warning: Loading from a file URI (${H}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`),W(e)}))}function J(e,t,r=!0){Object.getOwnPropertyDescriptor(o,e)||Object.defineProperty(o,e,{configurable:!0,get(){W(`\`Module.${e}\` has been replaced by \`${t}\``+(r?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":""))}})}function q(e){return"FS_createPath"===e||"FS_createDataFile"===e||"FS_createPreloadedFile"===e||"FS_unlink"===e||"addRunDependency"===e||"FS_createLazyFile"===e||"FS_createDevice"===e||"removeRunDependency"===e}function K(e,t){"undefined"!=typeof globalThis&&Object.defineProperty(globalThis,e,{configurable:!0,get(){ee(`\`${e}\` is not longer defined by emscripten. ${t}`)}})}function Z(e){Object.getOwnPropertyDescriptor(o,e)||Object.defineProperty(o,e,{configurable:!0,get(){var t=`'${e}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;q(e)&&(t+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),W(t)}})}!function(){var e=new Int16Array(1),t=new Int8Array(e.buffer);if(e[0]=25459,115!==t[0]||99!==t[1])throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"}(),K("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),K("asm","Please use wasmExports instead");var X=e=>{for(;e.length>0;)e.shift()(o)},Q=(o.noExitRuntime,e=>(F("number"==typeof e),"0x"+(e>>>=0).toString(16).padStart(8,"0"))),ee=e=>{ee.shown||={},ee.shown[e]||(ee.shown[e]=1,y(e))},te="undefined"!=typeof TextDecoder?new TextDecoder:void 0,re=(e,t,r)=>{for(var n=t+r,a=t;e[a]&&!(a>=n);)++a;if(a-t>16&&e.buffer&&te)return te.decode(e.subarray(t,a));for(var o="";t<a;){var i=e[t++];if(128&i){var s=63&e[t++];if(192!=(224&i)){var l=63&e[t++];if(224==(240&i)?i=(15&i)<<12|s<<6|l:(240!=(248&i)&&ee("Invalid UTF-8 leading byte "+Q(i)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),i=(7&i)<<18|s<<12|l<<6|63&e[t++]),i<65536)o+=String.fromCharCode(i);else{var u=i-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&i)<<6|s)}else o+=String.fromCharCode(i)}return o},ne=(e,t)=>(F("number"==typeof e,`UTF8ToString expects a number (got ${typeof e})`),e?re(w,e,t):"");class ae{constructor(e){this.excPtr=e,this.ptr=e-24}set_type(e){P[this.ptr+4>>2]=e}get_type(){return P[this.ptr+4>>2]}set_destructor(e){P[this.ptr+8>>2]=e}get_destructor(){return P[this.ptr+8>>2]}set_caught(e){e=e?1:0,T[this.ptr+12]=e}get_caught(){return 0!=T[this.ptr+12]}set_rethrown(e){e=e?1:0,T[this.ptr+13]=e}get_rethrown(){return 0!=T[this.ptr+13]}init(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)}set_adjusted_ptr(e){P[this.ptr+16>>2]=e}get_adjusted_ptr(){return P[this.ptr+16>>2]}}var oe={},ie=e=>{for(;e.length;){var t=e.pop();e.pop()(t)}};function se(e){return this.fromWireType(P[e>>2])}var le,ue,ce,de={},pe={},he={},fe=e=>{throw new le(e)},me=(e,t,r)=>{function n(t){var n=r(t);n.length!==e.length&&fe("Mismatched type converter count");for(var a=0;a<e.length;++a)ve(e[a],n[a])}e.forEach((function(e){he[e]=t}));var a=new Array(t.length),o=[],i=0;t.forEach(((e,t)=>{pe.hasOwnProperty(e)?a[t]=pe[e]:(o.push(e),de.hasOwnProperty(e)||(de[e]=[]),de[e].push((()=>{a[t]=pe[e],++i===o.length&&n(a)})))})),0===o.length&&n(a)},ge=e=>{for(var t="",r=e;w[r];)t+=ue[w[r++]];return t},ye=e=>{throw new ce(e)};function ve(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return function(e,t,r={}){var n=t.name;if(e||ye(`type "${n}" must have a positive integer typeid pointer`),pe.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;ye(`Cannot register type '${n}' twice`)}if(pe[e]=t,delete he[e],de.hasOwnProperty(e)){var a=de[e];delete de[e],a.forEach((e=>e()))}}(e,t,r)}var be,Te=e=>{ye(e.$$.ptrType.registeredClass.name+" instance already deleted")},we=!1,_e=e=>{},Ce=e=>{e.count.value-=1,0===e.count.value&&(e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)})(e)},Ee=(e,t,r)=>{if(t===r)return e;if(void 0===r.baseClass)return null;var n=Ee(e,t,r.baseClass);return null===n?null:r.downcast(n)},Pe={},$e=[],Ae=()=>{for(;$e.length;){var e=$e.pop();e.$$.deleteScheduled=!1,e.delete()}},Se={},Fe=(e,t)=>(t.ptrType&&t.ptr||fe("makeClassHandle requires ptr and ptrType"),!!t.smartPtrType!=!!t.smartPtr&&fe("Both smartPtrType and smartPtr must be specified"),t.count={value:1},Ie(Object.create(e,{$$:{value:t,writable:!0}})));function Oe(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=((e,t)=>(t=((e,t)=>{for(void 0===t&&ye("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t})(e,t),Se[t]))(this.registeredClass,t);if(void 0!==r){if(0===r.$$.count.value)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var n=r.clone();return this.destructor(e),n}function a(){return this.isSmartPointer?Fe(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):Fe(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var o,i=this.registeredClass.getActualType(t),s=Pe[i];if(!s)return a.call(this);o=this.isConst?s.constPointerType:s.pointerType;var l=Ee(t,this.registeredClass,o.registeredClass);return null===l?a.call(this):this.isSmartPointer?Fe(o.registeredClass.instancePrototype,{ptrType:o,ptr:l,smartPtrType:this,smartPtr:e}):Fe(o.registeredClass.instancePrototype,{ptrType:o,ptr:l})}var Ie=e=>"undefined"==typeof FinalizationRegistry?(Ie=e=>e,e):(we=new FinalizationRegistry((e=>{console.warn(e.leakWarning.stack.replace(/^Error: /,"")),Ce(e.$$)})),Ie=e=>{var t=e.$$;if(t.smartPtr){var r={$$:t},n=t.ptrType.registeredClass;r.leakWarning=new Error(`Embind found a leaked C++ instance ${n.name} <${Q(t.ptr)}>.\nWe'll free it automatically in this case, but this functionality is not reliable across various environments.\nMake sure to invoke .delete() manually once you're done with the instance instead.\nOriginally allocated`),"captureStackTrace"in Error&&Error.captureStackTrace(r.leakWarning,Oe),we.register(e,r,e)}return e},_e=e=>we.unregister(e),Ie(e));function Me(){}var ke=(e,t)=>Object.defineProperty(t,"name",{value:e}),xe=(e,t,r)=>{if(void 0===e[t].overloadTable){var n=e[t];e[t]=function(...n){return e[t].overloadTable.hasOwnProperty(n.length)||ye(`Function '${r}' called with an invalid number of arguments (${n.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[n.length].apply(this,n)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}},Re=(e,t,r)=>{o.hasOwnProperty(e)?((void 0===r||void 0!==o[e].overloadTable&&void 0!==o[e].overloadTable[r])&&ye(`Cannot register public name '${e}' twice`),xe(o,e,e),o.hasOwnProperty(r)&&ye(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),o[e].overloadTable[r]=t):(o[e]=t,void 0!==r&&(o[e].numArguments=r))};function Le(e,t,r,n,a,o,i,s){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=a,this.getActualType=o,this.upcast=i,this.downcast=s,this.pureVirtualFunctions=[]}var De=(e,t,r)=>{for(;t!==r;)t.upcast||ye(`Expected null or instance of ${r.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e};function Ue(e,t){if(null===t)return this.isReference&&ye(`null is not a valid ${this.name}`),0;t.$$||ye(`Cannot pass "${ot(t)}" as a ${this.name}`),t.$$.ptr||ye(`Cannot pass deleted object as a pointer of type ${this.name}`);var r=t.$$.ptrType.registeredClass;return De(t.$$.ptr,r,this.registeredClass)}function Ne(e,t){var r;if(null===t)return this.isReference&&ye(`null is not a valid ${this.name}`),this.isSmartPointer?(r=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,r),r):0;t&&t.$$||ye(`Cannot pass "${ot(t)}" as a ${this.name}`),t.$$.ptr||ye(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&ye(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var n=t.$$.ptrType.registeredClass;if(r=De(t.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&ye("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:ye(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var a=t.clone();r=this.rawShare(r,nt.toHandle((()=>a.delete()))),null!==e&&e.push(this.rawDestructor,r)}break;default:ye("Unsupporting sharing policy")}return r}function We(e,t){if(null===t)return this.isReference&&ye(`null is not a valid ${this.name}`),0;t.$$||ye(`Cannot pass "${ot(t)}" as a ${this.name}`),t.$$.ptr||ye(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&ye(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var r=t.$$.ptrType.registeredClass;return De(t.$$.ptr,r,this.registeredClass)}function je(e,t,r,n,a,o,i,s,l,u,c){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=n,this.isSmartPointer=a,this.pointeeType=o,this.sharingPolicy=i,this.rawGetPointee=s,this.rawConstructor=l,this.rawShare=u,this.rawDestructor=c,a||void 0!==t.baseClass?this.toWireType=Ne:n?(this.toWireType=Ue,this.destructorFunction=null):(this.toWireType=We,this.destructorFunction=null)}var He,ze,Ge=(e,t,r)=>{o.hasOwnProperty(e)||fe("Replacing nonexistent public symbol"),void 0!==o[e].overloadTable&&void 0!==r?o[e].overloadTable[r]=t:(o[e]=t,o[e].argCount=r)},Ve=e=>He.get(e),Be=(e,t)=>{var r,n,a=(e=ge(e)).includes("j")?(n=t,F((r=e).includes("j")||r.includes("p"),"getDynCaller should only be called with i64 sigs"),(...e)=>((e,t,r=[])=>e.includes("j")?((e,t,r)=>(F("dynCall_"+(e=e.replace(/p/g,"i"))in o,`bad function pointer type - dynCall function not found for sig '${e}'`),F(r?.length?r.length===e.substring(1).replace(/j/g,"--").length:1==e.length),(0,o["dynCall_"+e])(t,...r)))(e,t,r):(F(Ve(t),`missing table entry in dynCall: ${t}`),Ve(t)(...r)))(r,n,e)):Ve(t);return"function"!=typeof a&&ye(`unknown function pointer with signature ${e}: ${t}`),a},Ye=e=>{var t=Tt(e),r=ge(t);return wt(t),r},Je=(e,t)=>{var r=[],n={};throw t.forEach((function e(t){n[t]||pe[t]||(he[t]?he[t].forEach(e):(r.push(t),n[t]=!0))})),new ze(`${e}: `+r.map(Ye).join([", "]))},qe=(e,t)=>{for(var r=[],n=0;n<e;n++)r.push(P[t+4*n>>2]);return r};function Ke(e){for(var t=1;t<e.length;++t)if(null!==e[t]&&void 0===e[t].destructorFunction)return!0;return!1}function Ze(e,t,r,n,a,o){var i=t.length;i<2&&ye("argTypes array size mismatch! Must at least get return value and 'this' types!"),F(!o,"Async bindings are only supported with JSPI.");for(var s=null!==t[1]&&null!==r,l=Ke(t),u="void"!==t[0].name,c=[e,ye,n,a,ie,t[0],t[1]],d=0;d<i-2;++d)c.push(t[d+2]);if(!l)for(d=s?1:2;d<t.length;++d)null!==t[d].destructorFunction&&c.push(t[d].destructorFunction);let[p,h]=function(e,t,r,n){var a=Ke(e),o=e.length-2,i=[],s=["fn"];t&&s.push("thisWired");for(var l=0;l<o;++l)i.push(`arg${l}`),s.push(`arg${l}Wired`);i=i.join(","),s=s.join(",");var u=`\n        return function (${i}) {\n        if (arguments.length !== ${o}) {\n          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${o}');\n        }`;a&&(u+="var destructors = [];\n");var c=a?"destructors":"null",d=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];for(t&&(u+=`var thisWired = classParam['toWireType'](${c}, this);\n`),l=0;l<o;++l)u+=`var arg${l}Wired = argType${l}['toWireType'](${c}, arg${l});\n`,d.push(`argType${l}`);if(u+=(r||n?"var rv = ":"")+`invoker(${s});\n`,a)u+="runDestructors(destructors);\n";else for(l=t?1:2;l<e.length;++l){var p=1===l?"thisWired":"arg"+(l-2)+"Wired";null!==e[l].destructorFunction&&(u+=`${p}_dtor(${p});\n`,d.push(`${p}_dtor`))}return r&&(u+="var ret = retType['fromWireType'](rv);\nreturn ret;\n"),u+="}\n",[d,u=`if (arguments.length !== ${d.length}){ throw new Error(humanName + "Expected ${d.length} closure arguments " + arguments.length + " given."); }\n${u}`]}(t,s,u,o);p.push(h);var f=function(e,t){if(!(e instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof e} which is not a function`);var r=ke(e.name||"unknownFunctionName",(function(){}));r.prototype=e.prototype;var n=new r,a=e.apply(n,t);return a instanceof Object?a:n}(Function,p)(...c);return ke(e,f)}var Xe,Qe,et=e=>{const t=(e=e.trim()).indexOf("(");return-1!==t?(F(")"==e[e.length-1],"Parentheses for argument names should match."),e.substr(0,t)):e},tt=[],rt=[],nt={toValue:e=>(e||ye("Cannot use deleted val. handle = "+e),F(2===e||void 0!==rt[e]&&e%2==0,`invalid handle: ${e}`),rt[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const t=tt.pop()||rt.length;return rt[t]=e,rt[t+1]=1,t}}}},at={name:"emscripten::val",fromWireType:e=>{var t=nt.toValue(e);return(e=>{e>9&&0==--rt[e+1]&&(F(void 0!==rt[e],"Decref for unallocated handle."),rt[e]=void 0,tt.push(e))})(e),t},toWireType:(e,t)=>nt.toHandle(t),argPackAdvance:8,readValueFromPointer:se,destructorFunction:null},ot=e=>{if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e},it=(e,t)=>{switch(t){case 4:return function(e){return this.fromWireType($[e>>2])};case 8:return function(e){return this.fromWireType(A[e>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},st=(e,t,r)=>{switch(t){case 1:return r?e=>T[e]:e=>w[e];case 2:return r?e=>_[e>>1]:e=>C[e>>1];case 4:return r?e=>E[e>>2]:e=>P[e>>2];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},lt="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,ut=(e,t)=>{F(e%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");for(var r=e,n=r>>1,a=n+t/2;!(n>=a)&&C[n];)++n;if((r=n<<1)-e>32&&lt)return lt.decode(w.subarray(e,r));for(var o="",i=0;!(i>=t/2);++i){var s=_[e+2*i>>1];if(0==s)break;o+=String.fromCharCode(s)}return o},ct=(e,t,r)=>{if(F(t%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!"),F("number"==typeof r,"stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),r??=2147483647,r<2)return 0;for(var n=t,a=(r-=2)<2*e.length?r/2:e.length,o=0;o<a;++o){var i=e.charCodeAt(o);_[t>>1]=i,t+=2}return _[t>>1]=0,t-n},dt=e=>2*e.length,pt=(e,t)=>{F(e%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");for(var r=0,n="";!(r>=t/4);){var a=E[e+4*r>>2];if(0==a)break;if(++r,a>=65536){var o=a-65536;n+=String.fromCharCode(55296|o>>10,56320|1023&o)}else n+=String.fromCharCode(a)}return n},ht=(e,t,r)=>{if(F(t%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!"),F("number"==typeof r,"stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),r??=2147483647,r<4)return 0;for(var n=t,a=n+r-4,o=0;o<e.length;++o){var i=e.charCodeAt(o);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),E[t>>2]=i,(t+=4)+4>a)break}return E[t>>2]=0,t-n},ft=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&++r,t+=4}return t},mt=e=>{var t=v.buffer,r=(e-t.byteLength+65535)/65536;try{return v.grow(r),O(),1}catch(r){y(`growMemory: Attempted to grow heap from ${t.byteLength} bytes to ${e} bytes, but got error: ${r}`)}},gt=[null,[],[]];le=o.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},(()=>{for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);ue=e})(),ce=o.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},Object.assign(Me.prototype,{isAliasOf(e){if(!(this instanceof Me))return!1;if(!(e instanceof Me))return!1;var t=this.$$.ptrType.registeredClass,r=this.$$.ptr;e.$$=e.$$;for(var n=e.$$.ptrType.registeredClass,a=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;n.baseClass;)a=n.upcast(a),n=n.baseClass;return t===n&&r===a},clone(){if(this.$$.ptr||Te(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e,t=Ie(Object.create(Object.getPrototypeOf(this),{$$:{value:(e=this.$$,{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType})}}));return t.$$.count.value+=1,t.$$.deleteScheduled=!1,t},delete(){this.$$.ptr||Te(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ye("Object already scheduled for deletion"),_e(this),Ce(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Te(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ye("Object already scheduled for deletion"),$e.push(this),1===$e.length&&be&&be(Ae),this.$$.deleteScheduled=!0,this}}),o.getInheritedInstanceCount=()=>Object.keys(Se).length,o.getLiveInheritedInstances=()=>{var e=[];for(var t in Se)Se.hasOwnProperty(t)&&e.push(Se[t]);return e},o.flushPendingDeletes=Ae,o.setDelayFunction=e=>{be=e,$e.length&&be&&be(Ae)},Object.assign(je.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){this.rawDestructor?.(e)},argPackAdvance:8,readValueFromPointer:se,fromWireType:Oe}),ze=o.UnboundTypeError=(Xe=Error,(Qe=ke("UnboundTypeError",(function(e){this.name="UnboundTypeError",this.message=e;var t=new Error(e).stack;void 0!==t&&(this.stack=this.toString()+"\n"+t.replace(/^Error(:[^\n]*)?\n/,""))}))).prototype=Object.create(Xe.prototype),Qe.prototype.constructor=Qe,Qe.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`},Qe),rt.push(0,1,void 0,1,null,1,!0,1,!1,1),F(10===rt.length),o.count_emval_handles=()=>rt.length/2-5-tt.length;var yt,vt={__assert_fail:(e,t,r,n)=>{W(`Assertion failed: ${ne(e)}, at: `+[t?ne(t):"unknown filename",r,n?ne(n):"unknown function"])},__cxa_throw:(e,t,r)=>{new ae(e).init(t,r),F(!1,"Exception thrown, but exception catching is not enabled. Compile with -sNO_DISABLE_EXCEPTION_CATCHING or -sEXCEPTION_CATCHING_ALLOWED=[..] to catch.")},_abort_js:()=>{W("native code called abort()")},_embind_finalize_value_object:e=>{var t=oe[e];delete oe[e];var r=t.rawConstructor,n=t.rawDestructor,a=t.fields,o=a.map((e=>e.getterReturnType)).concat(a.map((e=>e.setterArgumentType)));me([e],o,(e=>{var o={};return a.forEach(((t,r)=>{var n=t.fieldName,i=e[r],s=t.getter,l=t.getterContext,u=e[r+a.length],c=t.setter,d=t.setterContext;o[n]={read:e=>i.fromWireType(s(l,e)),write:(e,t)=>{var r=[];c(d,e,u.toWireType(r,t)),ie(r)}}})),[{name:t.name,fromWireType:e=>{var t={};for(var r in o)t[r]=o[r].read(e);return n(e),t},toWireType:(e,t)=>{for(var a in o)if(!(a in t))throw new TypeError(`Missing field: "${a}"`);var i=r();for(a in o)o[a].write(i,t[a]);return null!==e&&e.push(n,i),i},argPackAdvance:8,readValueFromPointer:se,destructorFunction:n}]}))},_embind_register_bigint:(e,t,r,n,a)=>{},_embind_register_bool:(e,t,r,n)=>{ve(e,{name:t=ge(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:n},argPackAdvance:8,readValueFromPointer:function(e){return this.fromWireType(w[e])},destructorFunction:null})},_embind_register_class:(e,t,r,n,a,o,i,s,l,u,c,d,p)=>{c=ge(c),o=Be(a,o),s&&=Be(i,s),u&&=Be(l,u),p=Be(d,p);var h=(e=>{if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=48&&t<=57?`_${e}`:e})(c);Re(h,(function(){Je(`Cannot construct ${c} due to unbound types`,[n])})),me([e,t,r],n?[n]:[],(t=>{var r,a;t=t[0],a=n?(r=t.registeredClass).instancePrototype:Me.prototype;var i=ke(c,(function(...e){if(Object.getPrototypeOf(this)!==l)throw new ce("Use 'new' to construct "+c);if(void 0===d.constructor_body)throw new ce(c+" has no accessible constructor");var t=d.constructor_body[e.length];if(void 0===t)throw new ce(`Tried to invoke ctor of ${c} with invalid number of parameters (${e.length}) - expected (${Object.keys(d.constructor_body).toString()}) parameters instead!`);return t.apply(this,e)})),l=Object.create(a,{constructor:{value:i}});i.prototype=l;var d=new Le(c,i,l,p,r,o,s,u);d.baseClass&&(d.baseClass.__derivedClasses??=[],d.baseClass.__derivedClasses.push(d));var f=new je(c,d,!0,!1,!1),m=new je(c+"*",d,!1,!1,!1),g=new je(c+" const*",d,!1,!0,!1);return Pe[e]={pointerType:m,constPointerType:g},Ge(h,i),[f,m,g]}))},_embind_register_class_constructor:(e,t,r,n,a,o)=>{F(t>0);var i=qe(t,r);a=Be(n,a),me([],[e],(e=>{var r=`constructor ${(e=e[0]).name}`;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[t-1])throw new ce(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${e.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return e.registeredClass.constructor_body[t-1]=()=>{Je(`Cannot construct ${e.name} due to unbound types`,i)},me([],i,(n=>(n.splice(1,0,null),e.registeredClass.constructor_body[t-1]=Ze(r,n,null,a,o),[]))),[]}))},_embind_register_class_function:(e,t,r,n,a,o,i,s,l)=>{var u=qe(r,n);t=ge(t),t=et(t),o=Be(a,o),me([],[e],(e=>{var n=`${(e=e[0]).name}.${t}`;function a(){Je(`Cannot call ${n} due to unbound types`,u)}t.startsWith("@@")&&(t=Symbol[t.substring(2)]),s&&e.registeredClass.pureVirtualFunctions.push(t);var c=e.registeredClass.instancePrototype,d=c[t];return void 0===d||void 0===d.overloadTable&&d.className!==e.name&&d.argCount===r-2?(a.argCount=r-2,a.className=e.name,c[t]=a):(xe(c,t,n),c[t].overloadTable[r-2]=a),me([],u,(a=>{var s=Ze(n,a,e,o,i,l);return void 0===c[t].overloadTable?(s.argCount=r-2,c[t]=s):c[t].overloadTable[r-2]=s,[]})),[]}))},_embind_register_emval:e=>ve(e,at),_embind_register_float:(e,t,r)=>{ve(e,{name:t=ge(t),fromWireType:e=>e,toWireType:(e,t)=>{if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError(`Cannot convert ${ot(t)} to ${this.name}`);return t},argPackAdvance:8,readValueFromPointer:it(t,r),destructorFunction:null})},_embind_register_function:(e,t,r,n,a,o,i)=>{var s=qe(t,r);e=ge(e),e=et(e),a=Be(n,a),Re(e,(function(){Je(`Cannot call ${e} due to unbound types`,s)}),t-1),me([],s,(r=>{var n=[r[0],null].concat(r.slice(1));return Ge(e,Ze(e,n,null,a,o,i),t-1),[]}))},_embind_register_integer:(e,t,r,n,a)=>{t=ge(t),-1===a&&(a=4294967295);var o=e=>e;if(0===n){var i=32-8*r;o=e=>e<<i>>>i}var s=t.includes("unsigned"),l=(e,r)=>{if("number"!=typeof e&&"boolean"!=typeof e)throw new TypeError(`Cannot convert "${ot(e)}" to ${r}`);if(e<n||e>a)throw new TypeError(`Passing a number "${ot(e)}" from JS side to C/C++ side to an argument of type "${t}", which is outside the valid range [${n}, ${a}]!`)};ve(e,{name:t,fromWireType:o,toWireType:s?function(e,t){return l(t,this.name),t>>>0}:function(e,t){return l(t,this.name),t},argPackAdvance:8,readValueFromPointer:st(t,r,0!==n),destructorFunction:null})},_embind_register_memory_view:(e,t,r)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function a(e){var t=P[e>>2],r=P[e+4>>2];return new n(T.buffer,r,t)}ve(e,{name:r=ge(r),fromWireType:a,argPackAdvance:8,readValueFromPointer:a},{ignoreDuplicateRegistrations:!0})},_embind_register_std_string:(e,t)=>{var r="std::string"===(t=ge(t));ve(e,{name:t,fromWireType(e){var t,n=P[e>>2],a=e+4;if(r)for(var o=a,i=0;i<=n;++i){var s=a+i;if(i==n||0==w[s]){var l=ne(o,s-o);void 0===t?t=l:(t+=String.fromCharCode(0),t+=l),o=s+1}}else{var u=new Array(n);for(i=0;i<n;++i)u[i]=String.fromCharCode(w[a+i]);t=u.join("")}return wt(e),t},toWireType(e,t){var n;t instanceof ArrayBuffer&&(t=new Uint8Array(t));var a="string"==typeof t;a||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||ye("Cannot pass non-string to std::string"),n=r&&a?(e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t})(t):t.length;var o,i,s,l=_t(4+n+1),u=l+4;if(P[l>>2]=n,r&&a)o=t,i=u,F("number"==typeof(s=n+1),"stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),((e,t,r,n)=>{if(F("string"==typeof e,`stringToUTF8Array expects a string (got ${typeof e})`),!(n>0))return 0;for(var a=r,o=r+n-1,i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++i)),s<=127){if(r>=o)break;t[r++]=s}else if(s<=2047){if(r+1>=o)break;t[r++]=192|s>>6,t[r++]=128|63&s}else if(s<=65535){if(r+2>=o)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|63&s}else{if(r+3>=o)break;s>1114111&&ee("Invalid Unicode code point "+Q(s)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}}t[r]=0})(o,w,i,s);else if(a)for(var c=0;c<n;++c){var d=t.charCodeAt(c);d>255&&(wt(u),ye("String has UTF-16 code units that do not fit in 8 bits")),w[u+c]=d}else for(c=0;c<n;++c)w[u+c]=t[c];return null!==e&&e.push(wt,l),l},argPackAdvance:8,readValueFromPointer:se,destructorFunction(e){wt(e)}})},_embind_register_std_wstring:(e,t,r)=>{var n,a,o,i;r=ge(r),2===t?(n=ut,a=ct,i=dt,o=e=>C[e>>1]):4===t&&(n=pt,a=ht,i=ft,o=e=>P[e>>2]),ve(e,{name:r,fromWireType:e=>{for(var r,a=P[e>>2],i=e+4,s=0;s<=a;++s){var l=e+4+s*t;if(s==a||0==o(l)){var u=n(i,l-i);void 0===r?r=u:(r+=String.fromCharCode(0),r+=u),i=l+t}}return wt(e),r},toWireType:(e,n)=>{"string"!=typeof n&&ye(`Cannot pass non-string to C++ string type ${r}`);var o=i(n),s=_t(4+o+t);return P[s>>2]=o/t,a(n,s+4,o+t),null!==e&&e.push(wt,s),s},argPackAdvance:8,readValueFromPointer:se,destructorFunction(e){wt(e)}})},_embind_register_value_object:(e,t,r,n,a,o)=>{oe[e]={name:ge(t),rawConstructor:Be(r,n),rawDestructor:Be(a,o),fields:[]}},_embind_register_value_object_field:(e,t,r,n,a,o,i,s,l,u)=>{oe[e].fields.push({fieldName:ge(t),getterReturnType:r,getter:Be(n,a),getterContext:o,setterArgumentType:i,setter:Be(s,l),setterContext:u})},_embind_register_void:(e,t)=>{ve(e,{isVoid:!0,name:t=ge(t),argPackAdvance:0,fromWireType:()=>{},toWireType:(e,t)=>{}})},_emscripten_memcpy_js:(e,t,r)=>w.copyWithin(e,t,t+r),_emval_take_value:(e,t)=>{var r,n;void 0===(n=pe[r=e])&&ye(`_emval_take_value has unknown type ${Ye(r)}`);var a=(e=n).readValueFromPointer(t);return nt.toHandle(a)},emscripten_resize_heap:e=>{var t=w.length;F((e>>>=0)>t);var r,n=2147483648;if(e>n)return y(`Cannot enlarge memory, requested ${e} bytes, but the limit is 2147483648 bytes!`),!1;for(var a=1;a<=4;a*=2){var o=t*(1+.2/a);o=Math.min(o,e+100663296);var i=Math.min(n,(r=Math.max(e,o),F(65536,"alignment argument is required"),65536*Math.ceil(r/65536)));if(mt(i))return!0}return y(`Failed to grow the heap from ${t} bytes to ${i} bytes, not enough memory!`),!1},fd_close:e=>{W("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")},fd_seek:function(e,t,r,n,a){var o,i;return i=r,F((o=t)==o>>>0||o==(0|o)),F(i===(0|i)),70},fd_write:(e,t,r,n)=>{for(var a=0,o=0;o<r;o++){var i=P[t>>2],s=P[t+4>>2];t+=8;for(var l=0;l<s;l++)u=e,c=w[i+l],d=void 0,F(d=gt[u]),0===c||10===c?((1===u?g:y)(re(d,0)),d.length=0):d.push(c);a+=s}var u,c,d;return P[n>>2]=a,0},onAtlasProgress:function(e,t){o.onAtlasProgress&&o.onAtlasProgress(e,t)}},bt=function(){var e,t={env:vt,wasi_snapshot_preview1:vt};function r(e,t){var r;return bt=e.exports,F(v=bt.memory,"memory not found in wasm exports"),O(),F(He=bt.__indirect_function_table,"table not found in wasm exports"),r=bt.__wasm_call_ctors,k.unshift(r),function(e){if(L--,o.monitorRunDependencies?.(L),e?(F(N[e]),delete N[e]):y("warning: run dependency removed without ID"),0==L&&(null!==D&&(clearInterval(D),D=null),U)){var t=U;U=null,t()}}("wasm-instantiate"),bt}e="wasm-instantiate",L++,o.monitorRunDependencies?.(L),e?(F(!N[e]),N[e]=1,null===D&&"undefined"!=typeof setInterval&&(D=setInterval((()=>{if(S)return clearInterval(D),void(D=null);var e=!1;for(var t in N)e||(e=!0,y("still waiting on run dependencies:")),y(`dependency: ${t}`);e&&y("(end of list)")}),1e4))):y("warning: run dependency added without ID");var n,i,s,l,u,c,d=o;if(o.instantiateWasm)try{return o.instantiateWasm(t,r)}catch(e){y(`Module.instantiateWasm callback failed with error: ${e}`),a(e)}return H||(H=z(c="xatlas.wasm")?c:(u=c,o.locateFile?o.locateFile(u,f):f+u)),(n=b,i=H,s=t,l=function(e){F(o===d,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),d=null,r(e.instance)},n||"function"!=typeof WebAssembly.instantiateStreaming||z(i)||"function"!=typeof fetch?Y(i,s,l):fetch(i,{credentials:"same-origin"}).then((e=>WebAssembly.instantiateStreaming(e,s).then(l,(function(e){return y(`wasm streaming compile failed: ${e}`),y("falling back to ArrayBuffer instantiation"),Y(i,s,l)}))))).catch(a),{}}(),Tt=(V("__wasm_call_ctors",0),V("__getTypeName",1)),wt=V("free",1),_t=(V("fflush",1),V("malloc",1)),Ct=(V("strerror",1),()=>(Ct=bt.emscripten_stack_init)()),Et=()=>(Et=bt.emscripten_stack_get_end)();function Pt(){function e(){yt||(yt=!0,o.calledRun=!0,S||(F(!R),R=!0,I(),X(k),n(o),o.onRuntimeInitialized?.(),F(!o._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),function(){if(I(),o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)e=o.postRun.shift(),x.unshift(e);var e;X(x)}()))}var t;L>0||(Ct(),F(!(3&(t=Et()))),0==t&&(t+=4),P[t>>2]=34821223,P[t+4>>2]=2310721022,P[0]=1668509029,function(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)e=o.preRun.shift(),M.unshift(e);var e;X(M)}(),L>0||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),e()}),1)):e(),I()))}if(o.dynCall_jiji=V("dynCall_jiji",5),["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","stackAlloc","getTempRet0","setTempRet0","zeroMemory","exitJS","strError","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","initRandomFill","randomFill","emscriptenLog","readEmAsmArgs","jstoi_q","getExecutableName","listenOnce","autoResumeAudioContext","setWasmTableEntry","handleException","keepRuntimeAlive","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","asmjsMangle","asyncLoad","mmapAlloc","HandleAllocator","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","getCFunc","ccall","cwrap","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","stringToNewUTF8","stringToUTF8OnStack","writeArrayToMemory","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","jsStackTrace","getCallstack","convertPCtoSourceLocation","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","safeSetTimeout","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","findMatchingCatch","Browser_asyncPrepareDataCounter","setMainLoop","isLeapYear","ydayFromDate","arraySum","addDays","getSocketFromFD","getSocketAddress","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar","FS_unlink","FS_createDataFile","FS_mkdirTree","_setNetworkCallback","heapObjectForWebGLType","toTypedArrayIndex","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","setErrNo","demangle","stackTrace","getFunctionArgsName","createJsInvokerSignature","registerInheritedInstance","unregisterInheritedInstance","enumReadValueFromPointer","validateThis","getStringOrSymbol","emval_get_global","emval_returnValue","emval_lookupTypes","emval_addMethodCaller"].forEach((function(e){"undefined"==typeof globalThis||Object.getOwnPropertyDescriptor(globalThis,e)||Object.defineProperty(globalThis,e,{configurable:!0,get(){var t=`\`${e}\` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line`,r=e;r.startsWith("_")||(r="$"+e),t+=` (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='${r}')`,q(e)&&(t+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),ee(t)}}),Z(e)})),["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","out","err","callMain","abort","wasmMemory","wasmExports","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","stackSave","stackRestore","ptrToString","getHeapMax","growMemory","ENV","ERRNO_CODES","DNS","Protocols","Sockets","timers","warnOnce","readEmAsmArgsArray","jstoi_s","dynCallLegacy","getDynCaller","dynCall","getWasmTableEntry","alignMemory","wasmTable","noExitRuntime","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","JSEvents","specialHTMLTargets","findCanvasEventTarget","currentFullscreenStrategy","restoreOldWindowedStyle","UNWIND_CACHE","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","Browser","getPreloadedImageData__data","wget","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","SYSCALLS","preloadPlugins","FS_stdin_getChar_buffer","FS_createPath","FS_createDevice","FS_readFile","FS","FS_createLazyFile","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack","print","printErr","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","embind_charCodes","embind_init_charCodes","readLatin1String","getTypeName","getFunctionName","heap32VectorToArray","requireRegisteredType","usesDestructorStack","createJsInvoker","UnboundTypeError","PureVirtualError","GenericWireTypeSize","EmValType","init_embind","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","extendError","createNamedFunction","embindRepr","registeredInstances","getBasestPointer","getInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","registeredPointers","registerType","integerReadValueFromPointer","floatReadValueFromPointer","readPointer","runDestructors","newFunc","craftInvokerFunction","embind__requireFunction","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","finalizationRegistry","detachFinalizer_deps","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","throwInstanceAlreadyDeleted","deletionQueue","flushPendingDeletes","delayFunction","setDelayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","char_0","char_9","makeLegalFunctionName","emval_freelist","emval_handles","emval_symbols","init_emval","count_emval_handles","Emval","emval_methodCallers","reflectConstruct"].forEach(Z),U=function e(){yt||Pt(),yt||(U=e)},o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();Pt(),r=i;for(const t of Object.keys(o))t in e||Object.defineProperty(e,t,{configurable:!0,get(){W(`Access to module property ('${t}') is no longer possible via the module constructor argument; Instead, use the result of the module constructor.`)}});return r});e.exports=r}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=Symbol("Comlink.proxy"),t=Symbol("Comlink.endpoint"),n=Symbol("Comlink.releaseProxy"),a=Symbol("Comlink.finalizer"),o=Symbol("Comlink.thrown"),i=e=>"object"==typeof e&&null!==e||"function"==typeof e,s=new Map([["proxy",{canHandle:t=>i(t)&&t[e],serialize(e){const{port1:t,port2:r}=new MessageChannel;return l(e,t),[r,[r]]},deserialize:e=>(e.start(),f(e,[],undefined))}],["throw",{canHandle:e=>i(e)&&o in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function l(t,r=globalThis,n=["*"]){r.addEventListener("message",(function i(s){if(!s||!s.data)return;if(!function(e,t){for(const r of e){if(t===r||"*"===r)return!0;if(r instanceof RegExp&&r.test(t))return!0}return!1}(n,s.origin))return void console.warn(`Invalid origin '${s.origin}' for comlink proxy`);const{id:c,type:d,path:p}=Object.assign({path:[]},s.data),h=(s.data.argumentList||[]).map(v);let f;try{const r=p.slice(0,-1).reduce(((e,t)=>e[t]),t),n=p.reduce(((e,t)=>e[t]),t);switch(d){case"GET":f=n;break;case"SET":r[p.slice(-1)[0]]=v(s.data.value),f=!0;break;case"APPLY":f=n.apply(r,h);break;case"CONSTRUCT":f=function(t){return Object.assign(t,{[e]:!0})}(new n(...h));break;case"ENDPOINT":{const{port1:e,port2:r}=new MessageChannel;l(t,r),f=function(e,t){return g.set(e,t),e}(e,[e])}break;case"RELEASE":f=void 0;break;default:return}}catch(e){f={value:e,[o]:0}}Promise.resolve(f).catch((e=>({value:e,[o]:0}))).then((e=>{const[n,o]=y(e);r.postMessage(Object.assign(Object.assign({},n),{id:c}),o),"RELEASE"===d&&(r.removeEventListener("message",i),u(r),a in t&&"function"==typeof t[a]&&t[a]())})).catch((e=>{const[t,n]=y({value:new TypeError("Unserializable return value"),[o]:0});r.postMessage(Object.assign(Object.assign({},t),{id:c}),n)}))})),r.start&&r.start()}function u(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function c(e){if(e)throw new Error("Proxy has been released and is not useable")}function d(e){return b(e,{type:"RELEASE"}).then((()=>{u(e)}))}const p=new WeakMap,h="FinalizationRegistry"in globalThis&&new FinalizationRegistry((e=>{const t=(p.get(e)||0)-1;p.set(e,t),0===t&&d(e)}));function f(e,r=[],a=function(){}){let o=!1;const i=new Proxy(a,{get(t,a){if(c(o),a===n)return()=>{!function(e){h&&h.unregister(e)}(i),d(e),o=!0};if("then"===a){if(0===r.length)return{then:()=>i};const t=b(e,{type:"GET",path:r.map((e=>e.toString()))}).then(v);return t.then.bind(t)}return f(e,[...r,a])},set(t,n,a){c(o);const[i,s]=y(a);return b(e,{type:"SET",path:[...r,n].map((e=>e.toString())),value:i},s).then(v)},apply(n,a,i){c(o);const s=r[r.length-1];if(s===t)return b(e,{type:"ENDPOINT"}).then(v);if("bind"===s)return f(e,r.slice(0,-1));const[l,u]=m(i);return b(e,{type:"APPLY",path:r.map((e=>e.toString())),argumentList:l},u).then(v)},construct(t,n){c(o);const[a,i]=m(n);return b(e,{type:"CONSTRUCT",path:r.map((e=>e.toString())),argumentList:a},i).then(v)}});return function(e,t){const r=(p.get(t)||0)+1;p.set(t,r),h&&h.register(e,t,e)}(i,e),i}function m(e){const t=e.map(y);return[t.map((e=>e[0])),(r=t.map((e=>e[1])),Array.prototype.concat.apply([],r))];var r}const g=new WeakMap;function y(e){for(const[t,r]of s)if(r.canHandle(e)){const[n,a]=r.serialize(e);return[{type:"HANDLER",name:t,value:n},a]}return[{type:"RAW",value:e},g.get(e)||[]]}function v(e){switch(e.type){case"HANDLER":return s.get(e.name).deserialize(e.value);case"RAW":return e.value}}function b(e,t,r){return new Promise((n=>{const a=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");e.addEventListener("message",(function t(r){r.data&&r.data.id&&r.data.id===a&&(e.removeEventListener("message",t),n(r.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:a},t),r)}))}var T=r(954);l((e=>{let t=()=>{};return class{constructor(r,n,a){this.xatlas=null,this.loaded=!1,t=r||(()=>{}),this.atlasCreated=!1,this.meshes=[];let o={};a&&(o={...o,onAtlasProgress:a});const i=t=>{o={...o,locateFile:(e,r)=>t&&"xatlas.wasm"===e?t:r+e},e(o).then((e=>{this.moduleLoaded(e)}))};if(n){const e=n("xatlas.wasm","");e&&e.then?e.then(i):i(e)}else i()}moduleLoaded(e){this.xatlas=e,this.loaded=!0,t&&t()}createAtlas(){this.xatlas.createAtlas(),this.meshes=[],this.atlasCreated=!0}addMesh(e,t,r=null,n=null,a=void 0,o=!1,i=!1,s=1){if(!this.loaded||!this.atlasCreated)throw"Create atlas first";const l=this.xatlas.createMesh(t.length/3,e.length,null!=r&&o,null!=n&&i);this.xatlas.HEAPU16.set(e,l.indexOffset/2);const u=new Float32Array([...t]);if(1!==s){"number"==typeof s&&(s=[s,s,s]);for(let e=0,t=u.length;e<t;e+=3)u[e]*=s[0],u[e+1]*=s[1],u[e+2]*=s[2]}this.xatlas.HEAPF32.set(u,l.positionOffset/4),null!=r&&o&&this.xatlas.HEAPF32.set(r,l.normalOffset/4),null!=n&&i&&this.xatlas.HEAPF32.set(n,l.uvOffset/4);const c=this.xatlas.addMesh();if(0!==c)return console.log("Error adding mesh: ",c),null;const d={meshId:l.meshId,meshObj:a,vertices:t,normals:r||null,indexes:e||null,coords:n||null};return this.meshes.push(d),d}createMesh(e,t,r,n){return this.xatlas.createMesh(e,t,r,n)}generateAtlas(e,t,r=!0){if(!this.loaded||!this.atlasCreated)throw"Create atlas first";if(this.meshes.length<1)throw"Add meshes first";return e={...this.defaultChartOptions(),...e},t={...this.defaultPackOptions(),...t},this.xatlas.generateAtlas(e,t),r?this.getAtlas():[]}getAtlas(){const e=[];if(!this.loaded||!this.atlasCreated)throw"Create atlas first";const t=this.xatlas.getAtlas(),r={width:t.width,height:t.height,atlasCount:t.atlasCount,meshCount:t.meshCount,texelsPerUnit:t.texelsPerUnit};for(const{meshId:t,meshObj:r,vertices:n,normals:a,coords:o}of this.meshes){const i=this.getMeshData(t),s=i.newVertexCount,l=new Uint16Array(this.xatlas.HEAPU32.subarray(i.indexOffset/4,i.indexOffset/4+i.newIndexCount)),u=new Uint16Array(this.xatlas.HEAPU32.subarray(i.originalIndexOffset/4,i.originalIndexOffset/4+s)),c=new Float32Array(this.xatlas.HEAPF32.subarray(i.uvOffset/4,i.uvOffset/4+2*s)),d=[];for(let e=0,t=i.subMeshes.size();e<t;e++)d.push(i.subMeshes.get(e));this.xatlas.destroyMeshData(i),i.subMeshes.delete();const p={};p.vertices=new Float32Array(3*s),p.coords1=c,a&&(p.normals=new Float32Array(3*s)),p.coords=o?new Float32Array(2*s):p.coords1;for(let e=0,t=s;e<t;e++){const t=u[e];p.vertices[3*e+0]=n[3*t+0],p.vertices[3*e+1]=n[3*t+1],p.vertices[3*e+2]=n[3*t+2],p.normals&&a&&(p.normals[3*e+0]=a[3*t+0],p.normals[3*e+1]=a[3*t+1],p.normals[3*e+2]=a[3*t+2]),p.coords&&o&&(p.coords[2*e+0]=o[2*t+0],p.coords[2*e+1]=o[2*t+1])}e.push({index:l,vertex:p,mesh:r,vertexCount:s,oldIndexes:u,subMeshes:d})}return{...r,meshes:e}}defaultChartOptions(){return{fixWinding:!1,maxBoundaryLength:0,maxChartArea:0,maxCost:2,maxIterations:1,normalDeviationWeight:2,normalSeamWeight:4,roundnessWeight:.009999999776482582,straightnessWeight:6,textureSeamWeight:.5,useInputMeshUvs:!1}}defaultPackOptions(){return{bilinear:!0,blockAlign:!1,bruteForce:!1,createImage:!1,maxChartSize:0,padding:0,resolution:0,rotateCharts:!0,rotateChartsToAxis:!0,texelsPerUnit:0}}setProgressLogging(e){this.xatlas.setProgressLogging(e)}getMeshData(e){return this.xatlas.getMeshData(e)}destroyMeshData(e){this.xatlas.destroyMeshData(e)}destroyAtlas(){this.atlasCreated=!1,this.xatlas.destroyAtlas(),this.meshes=[],this.xatlas.doLeakCheck()}}})(r.n(T)()))})(),self.XAtlas={}})();
//# sourceMappingURL=xatlas.js.map